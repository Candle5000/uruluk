<?= $this->fetch('header.phtml', ['header' => $header]) ?>
<script id="init-items" type="application/json">
<?= json_encode($items) ?>
</script>
<div class="container">
  <h2>Simulator</h2>
  <div class="modal fade" id="modal-items" tabindex="-1" role="dialog" aria-labelledby="modal-itemsTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content bg-darkgreen">
        <div class="modal-header">
          <h4 class="modal-title" id="modal-itemsTitle">Select Item</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true" class="button-close-white">&times;</span>
          </button>
        </div>
        <div class="modal-body overflow-auto">
          <div>
            <a href="#collapse-search" class="lemonchiffon" data-toggle="collapse" aria-expanded="false" aria-controls="collapseExample"><i class="fas fa-search"></i>Search</a>
          </div>
          <div class="collapse" id="collapse-search">
            <div class="card mb-2 bg-darkblue">
              <div class="card-body p-2">
                <div class="form-check form-check-inline">
                  <input id="search-rarity-common" class="form-check-input" type="checkbox" value="true" />
                  <label class="form-check-label small" for="search-rarity-common">Common</label>
                </div>
                <div class="form-check form-check-inline">
                  <input id="search-rarity-rare" class="form-check-input" type="checkbox" value="true" />
                  <label class="form-check-label small rare" for="search-rarity-rare">Rare</label>
                </div>
                <div class="form-check form-check-inline">
                  <input id="search-rarity-artifact" class="form-check-input" type="checkbox" value="true" />
                  <label class="form-check-label small artifact" for="search-rarity-artifact">Artifact</label>
                </div>
                <div class="text-right">
                  <a href="javascript:void(0);" class="lemonchiffon" id="link-search-submit" data-item-slot=""><i class="far fa-check-circle"></i>Submit</a>
                </div>
              </div>
            </div>
          </div>
          <table id="table-items" class="table-dark table-striped w-100 small mt-2" style="min-width: 420px;">
            <thead>
              <tr>
                <td>
                  <div class="d-table w-100">
                    <div class="d-table-row">
                      <div class="d-table-cell text-center align-middle" style="width: 32px;">
                        <a href="javascript:void(0);" class="thead-sort item-skill" data-attr="Skill"><i class="fas fa-exclamation-circle"></i></a>
                      </div>
                      <div class="d-table-cell">
                        <div class="d-table w-100 small table-item-attrs">
                          <div class="d-table-row">
                            <div class="d-table-cell border border-black text-center w-15 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="AD">AD</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-7-5 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="AS">AS</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-8 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="AR">AR</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-8 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="Str">Str</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-7-5 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="Def">Def</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-7-5 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="Dex">Dex</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-8 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="Vit">Vit</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-8 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="WS">WS</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-7-5 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="SA">SA</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-7-5 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="VoH">VoH</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-8 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="DR">DR</a>
                            </div>
                            <div class="d-table-cell border border-black text-center w-7-5 align-middle py-1">
                              <a href="javascript:void(0);" class="thead-sort lemonchiffon" data-attr="XPG">XPG</a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
            </thead>
            <tbody>
              <template id="modal-item-row">
                <tr>
                  <td>
                    <div class="d-table w-100">
                      <div class="d-table-row">
                        <div class="d-table-cell align-middle" style="width: 32px;">
                          <a href="javascript:void(0);" class="item-img"></a>
                        </div>
                        <div class="d-table-cell align-top">
                          <div class="pl-1">
                            <a href="javascript:void(0);" class="item-name"></a><a href="javascript:void(0);" class="item-skill d-none" data-toggle="tooltip" data-placement="top" title=""><i class="fas fa-exclamation-circle"></i></a>
                          </div>
                          <div class="d-table w-100 small table-item-attrs">
                            <div class="d-table-row">
                              <div class="d-table-cell border border-black text-right w-15">
                                &nbsp;
                                <span class="attr attr-minad"></span>
                                <span class="wave">~</span>
                                <span   class="attr attr-maxad"></span>
                              </div>
                              <div class="d-table-cell border border-black text-right w-7-5 attr attr-as"></div>
                              <div class="d-table-cell border border-black text-right w-8 attr attr-ar"></div>
                              <div class="d-table-cell border border-black text-right w-8 attr attr-str"></div>
                              <div class="d-table-cell border border-black text-right w-7-5 attr attr-def"></div>
                              <div class="d-table-cell border border-black text-right w-7-5 attr attr-dex"></div>
                              <div class="d-table-cell border border-black text-right w-8 attr attr-vit"></div>
                              <div class="d-table-cell border border-black text-right w-8 attr attr-ws"></div>
                              <div class="d-table-cell border border-black text-right w-7-5 attr attr-sa"></div>
                              <div class="d-table-cell border border-black text-right w-7-5 attr attr-voh"></div>
                              <div class="d-table-cell border border-black text-right w-8 attr attr-dr"></div>
                              <div class="d-table-cell border border-black text-right w-7-5 attr attr-xpg"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </template>
              <template id="modal-label-row">
                <tr>
                  <td style="padding-left: 33px;">
                    <div class="d-table w-100 small table-item-attrs">
                      <div class="d-table-row">
                        <div class="d-table-cell border border-black text-center w-15">AD</div>
                        <div class="d-table-cell border border-black text-center w-7-5">AS</div>
                        <div class="d-table-cell border border-black text-center w-8">AR</div>
                        <div class="d-table-cell border border-black text-center w-8">Str</div>
                        <div class="d-table-cell border border-black text-center w-7-5">Def</div>
                        <div class="d-table-cell border border-black text-center w-7-5">Dex</div>
                        <div class="d-table-cell border border-black text-center w-8">Vit</div>
                        <div class="d-table-cell border border-black text-center w-8">WS</div>
                        <div class="d-table-cell border border-black text-center w-7-5">SA</div>
                        <div class="d-table-cell border border-black text-center w-7-5">VoH</div>
                        <div class="d-table-cell border border-black text-center w-8">DR</div>
                        <div class="d-table-cell border border-black text-center w-7-5">XPG</div>
                      </div>
                    </div>
                  </td>
                </tr>
              </template>
            </tbody>
          </table>
          <div class="d-flex justify-content-center mt-3" id="scroll-loading">
            <div class="spinner-border text-lignt" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mb-md-2">
    <div class="col-12 col-md-6 px-1">
      <table class="table-attributes table-dark table-striped w-100 small">
        <colgroup>
          <col class="w-45" />
          <col class="w-30" />
          <col />
        </colgroup>
        <tbody>
          <tr>
            <td colspan="3">
              <label class="w-100 mb-0">
                <a href="javascript:void(0);" class="lemonchiffon link-share ml-1"><i class="fas fa-share-square"></i>Share by URL</a><br />
                <input type="text" class="form-control p-0 h-auto pr-2 text-share" />
              </label>
            </td>
          </tr>
          <tr>
            <td>Character Class</td>
            <td class="text-right" colspan="2">
              <div class="form-group m-0">
                <select class="form-control character-class p-0 h-auto">
                  <option value="sword" <?= $character == 'sword' ? 'selected' : '' ?>>Sword Master</option>
                  <option value="axe" <?= $character == 'axe' ? 'selected' : '' ?>>Axe Master</option>
                  <option value="dagger" <?= $character == 'dagger' ? 'selected' : '' ?>>Dagger Master</option>
                </select>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="2">Damage Per Speed</td>
            <td class="text-right character-dps">0.000</td>
          </tr>
          <tr>
            <td colspan="2">Attack Damage</td>
            <td class="text-right"><span class="attr-minad">0</span>～<span class="attr-maxad">0</span></td>
          </tr>
          <tr>
            <td colspan="2">Attack Speed</td>
            <td class="text-right attr-as">0</td>
          </tr>
          <tr>
            <td colspan="2">Attack Range</td>
            <td class="text-right attr-ar">0</td>
          </tr>
          <tr>
            <td colspan="2">Strength</td>
            <td class="text-right attr-str">0</td>
          </tr>
          <tr>
            <td colspan="2">Defense</td>
            <td class="text-right attr-def">0</td>
          </tr>
          <tr>
            <td colspan="2">Dexteriry</td>
            <td class="text-right attr-dex">0</td>
          </tr>
          <tr>
            <td colspan="2">Vitality</td>
            <td class="text-right attr-vit">0</td>
          </tr>
          <tr>
            <td colspan="2">Walk Speed</td>
            <td class="text-right attr-ws">0</td>
          </tr>
          <tr>
            <td colspan="2">Special Attack</td>
            <td class="text-right">
              <span class="sa-normal"><span class="attr-sa">30</span>&nbsp;sec</span>
              <span class="sa-nodelay d-none">No Delay</span>
            </td>
          </tr>
          <tr>
            <td colspan="2">Vitality on Hit</td>
            <td class="text-right"><span class="attr-voh">0</span>%</td>
          </tr>
          <tr>
            <td colspan="2">Damage Reflection</td>
            <td class="text-right"><span class="attr-dr">0</span>%</td>
          </tr>
          <tr>
            <td colspan="2">XP Gain</td>
            <td class="text-right">+<span class="attr-xpg">0</span>%</td>
          </tr>
          <tr>
            <td colspan="3">
              Item Passive Skills
              <ul class="list-unstyled item-skill ml-2 mb-0">
                <li>No Skills</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-12 col-md-6 px-1">
      <table class="table-attributes table-dark table-striped w-100 small">
        <colgroup>
          <col class="w-45" />
          <col class="w-30" />
          <col />
        </colgroup>
        <tbody>
          <tr>
            <td>XP</td>
            <td colspan="2">
              <div class="form-group m-0">
                <input type="number" class="form-control character-xp p-0 h-auto text-right pr-2" min="0" max="99999999" value="<?= $xp ?>" />
              </div>
            </td>
          </tr>
          <tr>
            <td>Kills</td>
            <td colspan="2">
              <div class="form-group m-0">
                <input type="number" class="form-control character-kills p-0 h-auto text-right pr-2" min="0" max="9999999" value="<?= $kills ?>" />
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="3">Boost Ups</td>
          </tr>
          <tr>
            <td colspan="2" class="pl-2">Nostrum</td>
            <td>
              <div class="form-group m-0">
                <input type="number" class="form-control nostrum boostup p-0 h-auto text-right pr-2" min="0" value="<?= $boostups['nostrum'] ?>" />
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="2" class="pl-2">Elixir</td>
            <td>
              <div class="form-group m-0">
                <input type="number" class="form-control elixir boostup p-0 h-auto text-right pr-2" min="0" value="<?= $boostups['elixir'] ?>" />
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="2" class="pl-2">Gio'Gan</td>
            <td>
              <div class="form-group m-0">
                <input type="number" class="form-control giogan boostup p-0 h-auto text-right pr-2" min="0" value="<?= $boostups['giogan'] ?>" />
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="2" class="pl-2">Necter</td>
            <td>
              <div class="form-group m-0">
                <input type="number" class="form-control necter boostup p-0 h-auto text-right pr-2" min="0" value="<?= $boostups['necter'] ?>" />
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="2" class="pl-2">Hydrabrew</td>
            <td>
              <div class="form-group m-0">
                <input type="number" class="form-control hydrabrew boostup p-0 h-auto text-right pr-2" min="0" value="<?= $boostups['hydrabrew'] ?>" />
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="col-12 px-1 overflow-auto">
      <table class="table-item-slot table-dark table-striped w-100 small" style="min-width: 420px;">
        <tbody>
          <tr>
            <td style="padding-left: 33px;">
              <span style="margin-left: -32px;">Equipment Items</span>
              <div class="d-table w-100 small table-item-attrs">
                <div class="d-table-row small">
                  <div class="d-table-cell border border-black text-center w-15">AD</div>
                  <div class="d-table-cell border border-black text-center w-7-5">AS</div>
                  <div class="d-table-cell border border-black text-center w-8">AR</div>
                  <div class="d-table-cell border border-black text-center w-8">Str</div>
                  <div class="d-table-cell border border-black text-center w-7-5">Def</div>
                  <div class="d-table-cell border border-black text-center w-7-5">Dex</div>
                  <div class="d-table-cell border border-black text-center w-8">Vit</div>
                  <div class="d-table-cell border border-black text-center w-8">WS</div>
                  <div class="d-table-cell border border-black text-center w-7-5">SA</div>
                  <div class="d-table-cell border border-black text-center w-7-5">VoH</div>
                  <div class="d-table-cell border border-black text-center w-8">DR</div>
                  <div class="d-table-cell border border-black text-center w-7-5">XPG</div>
                </div>
              </div>
            </td>
          </tr>
          <?php foreach ($slots as $key => $itemClass) : ?>
            <tr>
              <td>
                <div class="d-table w-100">
                  <div class="d-table-row">
                    <div class="d-table-cell align-middle" style="width: 32px;">
                      <a href="javascript:void(0);" class="common item-img item-slot<?= $key + 1 ?>" data-slot-index="<?= $key + 1 ?>" data-item-class="<?= $itemClass ?>"></a>
                    </div>
                    <div class="d-table-cell align-top">
                      <div class="pl-1">
                        <a href="javascript:void(0);" class="item-name"></a><a href="javascript:void(0);" class="item-skill d-none" data-toggle="tooltip" data-placement="top" title=""><i class="fas fa-exclamation-circle"></i></a>
                      </div>
                      <div class="d-table w-100 small table-item-attrs">
                        <div class="d-table-row">
                          <div class="d-table-cell border border-black text-right w-15">
                            &nbsp;
                            <span class="attr attr-minad"></span>
                            <span class="wave">~</span>
                            <span   class="attr attr-maxad"></span>
                          </div>
                          <div class="d-table-cell border border-black text-right w-7-5 attr attr-as"></div>
                          <div class="d-table-cell border border-black text-right w-8 attr attr-ar"></div>
                          <div class="d-table-cell border border-black text-right w-8 attr attr-str"></div>
                          <div class="d-table-cell border border-black text-right w-7-5 attr attr-def"></div>
                          <div class="d-table-cell border border-black text-right w-7-5 attr attr-dex"></div>
                          <div class="d-table-cell border border-black text-right w-8 attr attr-vit"></div>
                          <div class="d-table-cell border border-black text-right w-8 attr attr-ws"></div>
                          <div class="d-table-cell border border-black text-right w-7-5 attr attr-sa"></div>
                          <div class="d-table-cell border border-black text-right w-7-5 attr attr-voh"></div>
                          <div class="d-table-cell border border-black text-right w-8 attr attr-dr"></div>
                          <div class="d-table-cell border border-black text-right w-7-5 attr attr-xpg"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          <?php endforeach; ?>
          <tr>
            <td style="padding-left: 33px;">
              <div class="d-table w-100 small table-item-attrs">
                <div class="d-table-row small">
                  <div class="d-table-cell border border-black text-center w-15">AD</div>
                  <div class="d-table-cell border border-black text-center w-7-5">AS</div>
                  <div class="d-table-cell border border-black text-center w-8">AR</div>
                  <div class="d-table-cell border border-black text-center w-8">Str</div>
                  <div class="d-table-cell border border-black text-center w-7-5">Def</div>
                  <div class="d-table-cell border border-black text-center w-7-5">Dex</div>
                  <div class="d-table-cell border border-black text-center w-8">Vit</div>
                  <div class="d-table-cell border border-black text-center w-8">WS</div>
                  <div class="d-table-cell border border-black text-center w-7-5">SA</div>
                  <div class="d-table-cell border border-black text-center w-7-5">VoH</div>
                  <div class="d-table-cell border border-black text-center w-8">DR</div>
                  <div class="d-table-cell border border-black text-center w-7-5">XPG</div>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <input type="hidden" id="csrf_name" value="<?= $csrf_name ?>" />
      <input type="hidden" id="csrf_value" value="<?= $csrf_value ?>" />
    </div>
    <div class="col-12 col-md-6">
    </div>
  </div>
</div>
<?= $this->fetch('footer.phtml', ['footer' => $footer]) ?>
