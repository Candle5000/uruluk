<?= $this->fetch('header.phtml', ['header' => $header]) ?>
<div>
  <a href="#collapse-menu" class="lemonchiffon collapse-link" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-menu">Menu<i class="fas fa-chevron-circle-down"></i></a>
</div>
<div class="collapse" id="collapse-menu">
  <?= $this->fetch('floors/menu.phtml', ['floorIndex' => $floorIndex]) ?>
</div>
<h2><?= $detail['short_name'] ?> / <?= $detail['name_en'] ?></h2>
<h2><?= $detail['name_ja'] ?></h2>
<div class="card mb-2 bg-darkblue img-floor">
  <div class="text-center m-auto">
    No Image
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-12 col-sm-6">
      <div class="lemonchiffon">Rare Items</div>
      <table class="table-dark table-striped table-bordered w-100 mb-2">
        <tbody>
          <?php if (empty($detail['items'])) : ?>
            <tr><td>No Items</td></tr>
          <?php endif; ?>
          <?php foreach ($detail['items'] as $item) : ?>
            <tr>
              <td>
                <span class="<?= $item['rarity'] ?>">
                  <img class="item-icon" src="/img/item/<?= $item['image_name'] ?>" /><span class="pl-1"><?= $item['name_en'] ?></span>
                </span>
              </td>
            </tr>
          <?php endforeach; ?>
        </tbody>
      </table>
    </div>
    <div class="col-12 col-sm-6">
      <div class="lemonchiffon">Creatures</div>
      <table class="table-dark table-striped table-bordered w-100 mb-2">
        <tbody>
          <?php if (empty($detail['creatures']['default'])) : ?>
            <tr><td>No Creatures</td></tr>
          <?php endif; ?>
          <?php foreach ($detail['creatures']['default'] as $creature) : ?>
            <tr>
              <td>
                <a href="/creatures/<?= $creature['creature_id'] ?>" class="<?= $creature['boss'] ? 'boss' : 'text-light' ?>">
                  <img class="item-icon" src="/img/creature/<?= $creature['image_name'] ?>" /><span class="pl-1"><?= $creature['name_en'] ?></span>
                </a>
              </td>
            </tr>
          <?php endforeach; ?>
        </tbody>
      </table>
      <?php if (!empty($detail['creatures']['events'])) : ?>
        <div>
          <a href="#collapse-creatures" class="lemonchiffon collapse-link" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-creatures">Additional Creatures<i class="fas fa-chevron-circle-down"></i></a>
        </div>
        <div class="collapse" id="collapse-creatures">
          <?php foreach ($detail['creatures']['events'] as $event) : ?>
            <div class="lemonchiffon"><?= $event['note'] ?></div>
            <table class="table-dark table-striped table-bordered w-100 mb-2">
              <tbody>
                <?php foreach ($event['creatures'] as $creature) : ?>
                  <tr>
                    <td>
                      <a href="/creatures/<?= $creature['creature_id'] ?>" class="<?= $creature['boss'] ? 'boss' : 'text-light' ?>">
                        <img class="item-icon" src="/img/creature/<?= $creature['image_name'] ?>" /><span class="pl-1"><?= $creature['name_en'] ?></span>
                      </a>
                    </td>
                  </tr>
                <?php endforeach; ?>
              </tbody>
            </table>
          <?php endforeach; ?>
        </div>
      <?php endif; ?>
    </div>
  </div>
</div>
<?= $this->fetch('footer.phtml', ['footer' => $footer]) ?>
